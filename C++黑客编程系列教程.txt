					第一课 局域网arp攻击器（断网攻击+ip冲突）

				教程视频下载:http://pan.baidu.com/s/1kVNKl2R

				开发环境:vs2010+WinpCap库

				讲师:$pirit  交流群:hack编程 572399768( 群内提供后续课程的更新 )
				
				后续课程目录:
				1.arp扫描欺骗工具
				2.数据包的捕获与发送
				3.sql注入扫描器
				4.进程相关(注入,隐藏，守护，冻结与解冻）
				5.种子搜索神器
				6.界面库打造高仿QQ，360界面
				7.仿QQ通信程序
				8.Hook技术
				9.病毒与专杀工具
				.....长期更新

一.arp攻击原理
arp,即地址解析协议，用于将ip地址翻译为mac地址，网络实际上是基于mac地址来通信。
每台主机都有个arp缓存表，记载着网内主机的ip与mac地址的对应关系。主机A想与主机B通信时，首先检查缓存表里是否记录了B（192.168.0.101）的ip与mac信息，如果没有就会在网段中广播一条消息，问192.168.0.101的mac地址是多少。正常情况下,只有主机B会响应这个请求，告诉A自己的mac地址，然后A就会将B的信息添加到arp缓存表中。但实际上，漏洞就在于主机B并不能判断arp响应包是否是由B发出来的，攻击者可以冒充成B向A发arp响应包，告诉A一个虚假的主机B的mac地址。

于是，就存在两种欺骗方式：1.主机A冒充网关告诉B一个虚假的网关mac地址，使得B无法与网关通信。2.主机A冒充主机B欺骗网关，告诉网关一个虚假的主机B的mac地址，常常这个假mac地址是A的地址，这样原本网关发送给B的数据包都其实发给了A。

二.常用arp命令
arp -d 清除arp缓存
arp -a 查看主机当前的arp缓存表
arp -s 192.168.0.101 11-22-33-44-55-66 静态绑定ip与mac
win7,win8系统静态绑定方法:http://blog.grablan.com/?post=44

三.开发环境搭建
1. 装winpcap驱动，winpcap官方网站上下载：http://www.winpcap.org/install/default.htm

2.下载对应的winpcap开发包

3.vs2010中配置winpcap:

四.源码讲解
  arp包结构

  ip冲突攻击原理:http://www.arpun.com/article/643.html

五.未解决问题
1.winpcap获取不到无线网卡的描述，使得arp攻击者只能使用有线网络
2.win7以上系统，arp攻击别人时，自己也会被欺骗，导致断网,所以攻击前需要在本机手动静态绑定网关mac
